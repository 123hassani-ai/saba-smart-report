# ๐ ูุณุชูุฏุงุช ุณุณุชู ฺฏุฒุงุฑุดโฺฏุฑ ุณุจุง (Saba Reporting System)

## ๐ ุฏุฑุจุงุฑู ูพุฑูฺู
ุณุณุชู ฺฏุฒุงุฑุดโฺฏุฑ ุณุจุง ฺฉ ุจุฑูุงูู PHP ุจุฑุง ููฺฏุงูโุณุงุฒ ุฏุงุฏูโูุง ุจู SQL Server (ููุฏูุฒ) ู ูพุงฺฏุงู ุฏุงุฏู ุงุจุฑ (MySQL/MariaDB) ุงุณุช ฺฉู ุจู ุตูุฑุช ูุงฺููุงุฑ ุทุฑุงุญ ุดุฏู ู ุฏุงุฑุง ุฑุงุจุท ฺฉุงุฑุจุฑ ูุฏุฑู ุจุง ูพุดุชุจุงู ุงุฒ ูููุช ูุงุฑุณ ูุฒุฑ ูโุจุงุดุฏ.

## ๐๏ธ ูุนูุงุฑ ูพุฑูฺู

### ุณุงุฎุชุงุฑ ูุงูโูุง
```
server-win/
โโโ assets/                     # ูุงูโูุง ุงุณุชุงุชฺฉ
โ   โโโ css/
โ   โ   โโโ style.css          # ุงุณุชุงูโูุง ุงุตู
โ   โโโ js/
โ       โโโ dashboard.js       # ุฌุงูุง ุงุณฺฉุฑูพุช ุฏุงุดุจูุฑุฏ
โโโ config/                    # ูุงูโูุง ุชูุธูุงุช
โโโ logs/                      # ูุงูโูุง ูุงฺฏ
โโโ modules/                   # ูุงฺููโูุง ุงุตู
โ   โโโ BaseModule.php         # ฺฉูุงุณ ูพุงู
โ   โโโ Logger.php             # ุณุณุชู ูุงฺฏ
โ   โโโ auth/                  # ุงุญุฑุงุฒ ููุช
โ   โโโ config/
โ   โ   โโโ ConfigManager.php  # ูุฏุฑุช ุชูุธูุงุช
โ   โโโ database/
โ   โ   โโโ SQLServerConnection.php  # ุงุชุตุงู SQL Server
โ   โ   โโโ CloudConnection.php      # ุงุชุตุงู ูพุงฺฏุงู ุฏุงุฏู ุงุจุฑ
โ   โโโ dashboard/             # ูุงฺูู ุฏุงุดุจูุฑุฏ
โ   โโโ sync/
โ       โโโ SyncManager.php    # ูุฏุฑุช ููฺฏุงูโุณุงุฒ
โโโ temp/                      # ูุงูโูุง ูููุช
โโโ views/                     # ูุงูุจโูุง HTML
โโโ config.json               # ุชูุธูุงุช ุงุตู
โโโ config-mac.json           # ุชูุธูุงุช macOS
โโโ odbc.ini                  # ุชูุธูุงุช ODBC
โโโ odbcinst.ini              # ุฏุฑุงูุฑูุง ODBC
โโโ setup-mac.sh              # ุงุณฺฉุฑูพุช ูุตุจ macOS
โโโ start-mac.sh              # ุงุณฺฉุฑูพุช ุงุฌุฑุง macOS
โโโ sync-service-odbc.php     # ูุงู ุงุตู (ูุฏู)
โโโ README-macOS.md           # ุฑุงูููุง macOS
โโโ GUIDE-COMPLETE.md         # ุฑุงูููุง ฺฉุงูู
```

## ๐๏ธ ูุงฺููโูุง ู ฺฉูุงุณโูุง

### 1. BaseModule.php
ฺฉูุงุณ ูพุงู ุจุฑุง ููู ูุงฺููโูุง
- **ูุณุฆููุช**: ูพุงู ูุดุชุฑฺฉ ุจุฑุง ููู ูุงฺููโูุง
- **ูุงุจูุชโูุง**:
  - ุจุงุฑฺฏุฐุงุฑ ุชูุธูุงุช
  - ุณุณุชู ูุงฺฏ
  - ุงุนุชุจุงุฑุณูุฌ ุฏุงุฏูโูุง
  - ูพุงุณุฎโูุง JSON

### 2. Logger.php
ุณุณุชู ูุฏุฑุช ูุงฺฏโูุง
- **ุงูฺฏู ุทุฑุงุญ**: Singleton
- **ูุงุจูุชโูุง**:
  - ุซุจุช ูุงฺฏ ุจุง ุณุทูุญ ูุฎุชูู (INFO, ERROR, WARNING, DEBUG)
  - ุฑูฺฏโุจูุฏ ุฎุฑูุฌ ุฏุฑ CLI
  - ูุฏุฑุช ูุงูโูุง ูุงฺฏ ุฑูุฒุงูู
  - ูพุงฺฉโุณุงุฒ ุฎูุฏฺฉุงุฑ ูุงฺฏโูุง ูุฏู

### 3. ConfigManager.php
ูุฏุฑุช ุชูุธูุงุช ุจุฑูุงูู
- **ูุณุฆููุช**: ุจุงุฑฺฏุฐุงุฑุ ุฐุฎุฑู ู ุงุนุชุจุงุฑุณูุฌ ุชูุธูุงุช
- **ูุงุจูุชโูุง**:
  - ูพุดุชุจุงู ุงุฒ ุชูุธูุงุช ูพุดโูุฑุถ
  - ุงุนุชุจุงุฑุณูุฌ IPุ ูพูุฑุช ู email
  - ุจุฑูุฒุฑุณุงู ุจุฎุดโูุง ุฌุฏุงฺฏุงูู ุชูุธูุงุช

### 4. SQLServerConnection.php
ูุฏุฑุช ุงุชุตุงู ุจู SQL Server
- **ุฑูุดโูุง ุงุชุตุงู**: ODBCุ COM Object
- **ูพุดุชุจุงู ุณุณุชูโุนุงูู**: Windowsุ macOSุ Linux
- **ูุงุจูุชโูุง**:
  - ุชุดุฎุต ุฎูุฏฺฉุงุฑ ุณุณุชูโุนุงูู
  - ุฏุฑุงูุช ูุณุช ุฌุฏุงูู
  - ุฏุฑุงูุช ุฏุงุฏูโูุง ุฌุฏูู ุจุง pagination
  - ุชุณุช ุงุชุตุงู

### 5. CloudConnection.php
ูุฏุฑุช ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู ุงุจุฑ
- **ูพุงฺฏุงู ุฏุงุฏู**: MySQL/MariaDB
- **ูุงุจูุชโูุง**:
  - ุงุฌุงุฏ ุฌุฏุงูู ุฎูุฏฺฉุงุฑ
  - ุชุดุฎุต ููุน ุฏุงุฏูโูุง
  - ุฏุฑุฌ batch ุจุง ุชุฑุงฺฉูุด
  - ุขูุงุฑฺฏุฑ ุฌุฏุงูู

### 6. SyncManager.php
ูุฏุฑุช ูุฑุขูุฏ ููฺฏุงูโุณุงุฒ
- **ูุงุจูุชโูุง**:
  - ููฺฏุงูโุณุงุฒ ุชฺฉ ุฌุฏูู
  - ููฺฏุงูโุณุงุฒ ฺูุฏ ุฌุฏูู
  - ููฺฏุงูโุณุงุฒ ุชุฏุฑุฌ (Incremental)
  - ุซุจุช ุชุงุฑุฎฺู ููฺฏุงูโุณุงุฒ
  - ุขูุงุฑ ู ฺฏุฒุงุฑุดโฺฏุฑ
  - ูุงูุชูุฑูฺฏ ูุถุนุช

## โ๏ธ ูุงูโูุง ุชูุธูุงุช

### config.json / config-mac.json
```json
{
    "sql_server": {
        "server": "123.123.1.2",
        "database": "DATABASE_NAME",
        "username": "sa",
        "password": "PASSWORD",
        "port": "1433",
        "connection_method": "odbc"
    },
    "cloud": {
        "host": "VPS_IP",
        "database": "reports_database",
        "username": "sync_user",
        "password": "PASSWORD",
        "port": "3306"
    },
    "settings": {
        "auto_sync_interval": 300,
        "batch_size": 1000,
        "max_execution_time": 300,
        "log_level": "info",
        "timezone": "Asia/Tehran"
    },
    "dashboard": {
        "items_per_page": 50,
        "refresh_interval": 30,
        "theme": "default"
    }
}
```

### odbc.ini
```ini
[ODBC Data Sources]
SQLServer = FreeTDS

[SQLServer]
Driver = /opt/homebrew/lib/libtdsodbc.so
Description = SQL Server via FreeTDS
Server = 123.123.1.2
Port = 1433
Database = DATABASE_NAME
TDS_Version = 8.0
```

## ๐จ ุฑุงุจุท ฺฉุงุฑุจุฑ

### CSS Framework
- **ูููุช**: Vazirmatn ุงุฒ Google Fonts
- **ุทุฑุงุญ**: Material Design + Glass Morphism
- **ูฺฺฏโูุง**:
  - Responsive design
  - ุชู ุชุงุฑฺฉ/ุฑูุดู
  - ุงููุดูโูุง ุชุนุงูู
  - ูุชุบุฑูุง CSS ุณูุงุฑุด

### JavaScript Dashboard
- **ูุนูุงุฑ**: Class-based modules
- **ูุงุจูุชโูุง**:
  - API calls ุจุง fetch
  - Real-time updates
  - ูููุฏุงุฑูุง Chart.js
  - notification system
  - Theme switching

## ๐ก API Endpoints (ูพุดููุงุฏ)

```
GET  /api/dashboard/stats     - ุขูุงุฑ ุฏุงุดุจูุฑุฏ
GET  /api/config/get          - ุฏุฑุงูุช ุชูุธูุงุช
POST /api/config/save         - ุฐุฎุฑู ุชูุธูุงุช
GET  /api/tables/list         - ูุณุช ุฌุฏุงูู
POST /api/sync/start          - ุดุฑูุน ููฺฏุงูโุณุงุฒ
GET  /api/sync/progress       - ูพุดุฑูุช ููฺฏุงูโุณุงุฒ
GET  /api/sync/history        - ุชุงุฑุฎฺู ููฺฏุงูโุณุงุฒ
GET  /api/logs/recent         - ูุงฺฏโูุง ุงุฎุฑ
POST /api/test/connection     - ุชุณุช ุงุชุตุงูุงุช
```

## ๐ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ูพุดโูุงุฒูุง
- PHP 7.4+ ุจุง ูพุณููุฏูุง PDOุ ODBC
- SQL Server ุจุง TCP/IP ูุนุงู
- MySQL/MariaDB (ุจุฑุง cloud)
- FreeTDS (ุจุฑุง macOS/Linux)

### macOS
```bash
# ูุตุจ dependencies
brew install php unixodbc freetds

# ุฑุงูโุงูุฏุงุฒ
./setup-mac.sh
./start-mac.sh
```

### Windows
```cmd
# ุงุทููุงู ุงุฒ ูุตุจ ODBC drivers
# ุงุฌุฑุง ูุงู PHP
php sync-service-odbc.php
```

## ๐ง ุชูุณุนู ู ุณูุงุฑุดโุณุงุฒ

### ุงุถุงูู ฺฉุฑุฏู ูุงฺูู ุฌุฏุฏ
1. ฺฉูุงุณ ุฌุฏุฏ ุฏุฑ `modules/` ุงุฌุงุฏ ฺฉูุฏ
2. ุงุฒ `BaseModule` ุงุฑุซโุจุฑ ฺฉูุฏ
3. ูุชุฏูุง ููุฑุฏ ูุงุฒ ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ

### ุงุถุงูู ฺฉุฑุฏู API endpoint
1. ุฏุฑ ูุงู ุงุตู route ุฌุฏุฏ ุงุถุงูู ฺฉูุฏ
2. ูุชุฏ handler ุฏุฑ ูุงฺูู ูุฑุจูุทู ุงุฌุงุฏ ฺฉูุฏ
3. ูพุงุณุฎ JSON ุงุณุชุงูุฏุงุฑุฏ ุจุฑฺฏุฑุฏุงูุฏ

## ๐ ุฑูุน ูุดฺฉูุงุช

### ูุดฺฉูุงุช ุฑุงุฌ
- **ุฎุทุง ODBC**: ุจุฑุฑุณ ุฏุฑุงูุฑูุง ูุตุจ ุดุฏู
- **ุงุชุตุงู SQL Server**: ูุนุงูโุณุงุฒ TCP/IP
- **ุฎุทุง ูุฌูุฒูุง**: ุจุฑุฑุณ ุฏุณุชุฑุณ ูุงูโูุง

### ูุงฺฏโูุง
- ูุงฺฏโูุง ุฑูุฒุงูู ุฏุฑ `logs/sync_YYYY-MM-DD.log`
- ุณุทูุญ ูุงฺฏ: ERROR, WARNING, INFO, DEBUG

## ๐ ุขูุงุฑ ู ฺฏุฒุงุฑุดุงุช

### ูุงุจูุชโูุง ฺฏุฒุงุฑุดโฺฏุฑ
- ุชุนุฏุงุฏ ฺฉู ุฑฺฉูุฑุฏูุง ููฺฏุงูโุณุงุฒ ุดุฏู
- ุขูุงุฑ ุฑูุฒุงูู/ููุชฺฏ/ูุงูุงูู
- ูุถุนุช ุฌุฏุงูู
- ุฒูุงูโุจูุฏ ููฺฏุงูโุณุงุฒ
- ุฎุทุงูุง ู ูุดุฏุงุฑูุง

## ๐ ุงููุช

### ูฺฉุงุช ุงููุช
- ุฑูุฒูุง ุนุจูุฑ ุฏุฑ ูุงูโูุง ุชูุธูุงุช
- ูุญุฏูุฏุณุงุฒ ุฏุณุชุฑุณ ุดุจฺฉู
- ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏโูุง
- ูุงฺฏโฺฏุฑ ุนููุงุช ุญุณุงุณ

## ๐ ูพุดุชุจุงู ฺูุฏุฒุจุงูู

### ุฒุจุงูโูุง ูพุดุชุจุงู ุดุฏู
- ูุงุฑุณ (RTL)
- ุงูฺฏูุณ (LTR)

### ูุฑูุชโูุง ุชุงุฑุฎ
- ุดูุณ ุจุฑุง ูุงุฑุณ
- ููุงุฏ ุจุฑุง ุงูฺฏูุณ

---

## โน๏ธ ุงุทูุงุนุงุช ูุณุฎู
- **ูุณุฎู**: 2.0 (Modular)
- **ุชุงุฑุฎ**: 29 ุงฺฏุณุช 2025
- **ููุณูุฏู**: Saba Reporting System

ุงู ูุณุชูุฏุงุช ุขุฎุฑู ูุถุนุช ูพุฑูฺู ุชุง ุชุงุฑุฎ ุงุฌุงุฏ ุฑุง ูุดุงู ูโุฏูุฏ.
